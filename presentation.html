<!DOCTYPE html>
<html>

<head>
	<title>WebVR LYCÉE DES MÉTIERS DU BÂTIMENT ET DES ÉNERGIES RENOUVELABLES JULES VERNE</title>
	<script src="js/aframe-master-v1.3.0.min.js"></script>
	<script src="js/aframe-environment-component.min.js"></script>
	<script src="js/parser.js"></script>
	<script src="js/aframe-parametric-curve.js"></script>
	<script src="js/aframe-curve-follow.js"></script>
	<script src="js/components/link-controls.js"></script>
	
	
</head>

<body>

<script>

AFRAME.registerComponent('video-controls', {
	
	init: function()
	{
		let video = document.querySelector("#video");

		let videoDisplay = document.querySelector("#video-display");
		let videoBorder  = document.querySelector("#video-border");
		let videoMesh  = videoDisplay.getObject3D("mesh");
		let borderMesh = videoBorder.getObject3D("mesh");
		
		videoBorder.addEventListener("mousedown", function(event)
		{
			if ( video.paused )
			{
				video.play();
				borderMesh.material.color.set("#004400");
			}
			else
			{
				video.pause();
				borderMesh.material.color.set("#440000");
			}
		});
	}
	
});

</script>


<a-scene raycaster="far: 100; objects: [link];" cursor="rayOrigin: mouse"
      environment="groundColor:  #f6d7b0;  groundColor2:  #f2d2a9;  playArea:  1;
      dressingVariance:  [object Object]" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="enabled:  false" 
      device-orientation-permission-ui="enabled: false" fog="color: #74ab90; far: 100; density: 0" visible="" cursor="rayOrigin: mouse" raycaster="objects: #ball1">
          <a-sky color="#ECECEC" material="" geometry=""></a-sky>
	
	<a-assets timeout="1000000">
		<img id="grid" src="border.png" crossorigin="anonymous" />
		<video id="video" loop="true" src="video/formations.mp4" autoplay></video>
	</a-assets>
		
	<a-plane
		id = "video-border"
		width = "24" height = "10"
		position = "0 5 -3.5"
		color = "#440000"
		video-controls>		
		<a-video  
			id = "video-display"
			width="23" height="9" 
			position="0 0 0.1"
			src="#video">
		</a-video>
	</a-plane>

            
	<a-assets>
		<a-asset-item id="jet" src="models/drone.glb"></a-asset-item>
	</a-assets>
	
	<a-assets>
		<a-asset-item id="sol" src="models/jv.OBJ"></a-asset-item>
		
	</a-assets>
		
	
	<a-assets>
          <img id="lien"  src="assets/ateliermen.jpg">
	  <img id="logo1" src="assets/cap-mbc.png">
	  <img id="im"  src="assets/1.png">
	  <img id="im1"  src="assets/2.png">
	  <img id="im2"  src="assets/3.png">
	  <img id="im3"  src="assets/4.png">
	  <img id="im4"  src="assets/5.png">
	</a-assets>

	<a-entity id="camera" 
		  camera
		  orbit-controls="
                  autoRotate: true;
		  autoRotateSpeed: 0;
                  nableDamping: false;
                  target: 0 1 0;
                  minDistance: 1;
                  maxDistance: 90;
                  initialPosition: 0 1 10"
                  mouse-cursor="" position="0 0 0" "></a-entity>
	
		
	<a-entity id="helix"
		parametric-curve="xyzFunctions: 15*cos(t), cos(2*t) + 2, 10*sin(t); 
			   			  tRange: 0, 40;">
	</a-entity>
	
	<a-entity id="helix1"
		parametric-curve="xyzFunctions: 15*cos(t), cos(2*t) + 2, 10*sin(t); 
			   			  tRange: 0, 40;">
	</a-entity>
	
	<a-entity id="helix2"
		parametric-curve="xyzFunctions: 0.2*cos(t), 0.08*t, 0.2*sin(t); tRange: 0, 40;">
	</a-entity>
											  
	
	<a-entity position="0 3 0">

		<a-entity 
			tube-geometry="curveData: #helix1; type: parametric-curve; tubeSegments: 200; radius: 0.00; tubeColor: red;" >
		</a-entity>
				
		<a-entity 
			
			 id="jetModel" 
			 scale="0.7 0.7 0.7"
			 gltf-model="#jet"
			 curve-follow= "curveData: #helix1; type: parametric-curve; duration: 68; loop: true" >
		
		</a-entity>
		
	</a-entity>
													     
		
	<a-entity position="0 3 0">

		<a-image
			 src="#im" 
			 width="16" height="10"
			 position="0 4 0"
			 rotation="0 0 0"
			 scale="0.3 0.3 0.3" 
			 curve-follow= "curveData: #helix1; type: parametric-curve; duration: 80; loop: true" >
			 
			
		</a-image>
				
	</a-entity>
									       
	<a-entity position="1 3 0">

		<a-image
			 src="#im1" 
			 width="16" height="10"
			 position="1 3 0"
			 rotation="0 0 0"
			  scale="0.3 0.3 0.3" 
			 curve-follow= "curveData: #helix1; type: parametric-curve; duration: 92; loop: true" 
			 >
			
		</a-image>
				
	</a-entity>
									       
	<a-entity position="2 3 0">

		<a-image
			 src="#im2" 
			  width="16" height="10"
			 position="2 4 0"
			 rotation="0 0 0"
			  scale="0.3 0.3 0.3" 
			 curve-follow= "curveData: #helix1; type: parametric-curve; duration: 104; loop: true" 
			 >
			
		</a-image>
				
	</a-entity>
													     
	<a-entity position="3 3 0">

		<a-image
			 src="#im3" 
			  width="16" height="10"
			 position="3 4 -22"
			 rotation="0 0 0"
			  scale="0.3 0.3 0.3"  
			 curve-follow= "curveData: #helix1; type: parametric-curve; duration: 116; loop: true" 
			 >
			
		</a-image>
				
	</a-entity>
													     
	
	<a-link position="0 1 0" 
	href="formation.html" title="Decouvrir toutes les formations" image="#lien">
	</a-link>
	      
</a-scene>
</body>
</html>
