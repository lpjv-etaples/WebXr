<!DOCTYPE html>
<html>

<head>
	<title>WEBVR BAC PRO TNE LP ETAPLES</title>
	<script src="js/aframe-master-v1.3.0.min.js"></script>
	<script src="js/aframe-environment-component.min.js"></script>
	<script src="js/extended-wasd-controls.js"></script>
	<script src="js/parser.js"></script>
	<script src="js/aframe-parametric-curve.js"></script>
	<script src="js/aframe-tube-geometry.js"></script>
	<script src="js/aframe-curve-follow.js"></script>
	<script src="js/components/link-controls.js"></script>
	<script src="https://unpkg.com/aframe-orbit-controls@1.2.0/dist/aframe-orbit-controls.min.js"></script>
	<script src="js/play-on-click.js"></script>
    	<script src="js/hide-on-play.js"></script>
	
</head>

<body>

<script>

AFRAME.registerComponent('video-controls', {
	
	init: function()
	{
		let video = document.querySelector("#video");

		let videoDisplay = document.querySelector("#video-display");
		let videoBorder  = document.querySelector("#video-border");
		let videoMesh  = videoDisplay.getObject3D("mesh");
		let borderMesh = videoBorder.getObject3D("mesh");
		
		videoBorder.addEventListener("mousedown", function(event)
		{
			if ( video.paused )
			{
				video.play();
				borderMesh.material.color.set("#004400");
			}
			else
			{
				video.pause();
				borderMesh.material.color.set("#440000");
			}
		});
	}
	
});

</script>


<a-scene raycaster="far: 100; objects: [link];" cursor="rayOrigin: mouse"
      environment="groundColor:  #f6d7b0;  groundColor2:  #f2d2a9;  playArea:  0.5;
      dressingVariance:  [object Object]" inspector="" keyboard-shortcuts="" screenshot="" vr-mode-ui="enabled:  false" 
      device-orientation-permission-ui="enabled: false" fog="color: #74ab90; far: 100; density: 0" visible="" cursor="rayOrigin: mouse" raycaster="objects: #ball1">
          <a-sky color="#ECECEC" material="" geometry=""></a-sky>
	
	<a-assets timeout="10000">
		<img id="grid" src="border.png" crossorigin="anonymous" />
		<video id="video" loop="true" src="video/bac-tne.mp4" autoplay></video>
	</a-assets>
	
	<!--<a-entity movement-controls="speed: 0.1; fly: false;" position="0 0 0">
		<a-entity camera position="0 3 12" look-controls></a-entity>
		<a-entity id="leftHand" laser-controls="hand: left" raycaster="" line="color: #FF00FF"></a-entity>
		<a-entity id="rightHand" laser-controls="hand: right" raycaster="" line="color: #FFFF00"></a-entity>
	</a-entity>-->
	
	<!--<a-plane
		width="100" height="100"
		position=" 0.00 5.00 -4.50" 
		rotation="-90 0 0"
		loop:true
		color="#888888" 
		material="src: #grid; repeat:100 100; transparent: true; opacity: 0.75"
		shadow="cast: false; receive: true">
	</a-plane>-->
	
	<a-plane
		id = "video-border"
		width = "24" height = "11"
		position = "0 6 -4.5"
		color = "#440000"
		video-controls>		
		<a-video  
			id = "video-display"
			width="23" height="10" 
			position="0 0 0.1"
			src="#video">
		</a-video>
	</a-plane>

   
	
	
	
	
	<a-assets>
    <img id="lien"  src="assets/ateliermen.jpg">
	  <img id="im"  src="assets/fam1.png">
	  <img id="im1"  src="assets/fam2.png">
	  <img id="im2"  src="assets/fam3.png">
    <img id="im2"  src="assets/fam4.png">
	  
	</a-assets>

	<a-entity id="camera" 
		  camera
		  orbit-controls="
                  autoRotate: false;
		  autoRotateSpeed: 0;
                  nableDamping: false;
                  target: 0 0 0;
                  minDistance: 5;
                  maxDistance: 80;
                  initialPosition: 0 1 11"
                  mouse-cursor="" position="0 0 0" "></a-entity>
															     
	
	
	<a-entity position="10 0 0">

		<a-image
			 src="#im" 
			 width="6" height="5"
			 position="0 -2 -10"
			 rotation="0 0 0"
			 scale="0.3 0.3 0.3" 
			  >
			 
			<a-link href="formation.html" scale="1 1 1"  image="#im1"></a-link>
		</a-image>
				
	</a-entity>
									       
	<a-entity position="6 0 2">

		<a-entity 
			tube-geometry="curveData: #helix1; type: parametric-curve; tubeSegments: 200; radius: 0.0; tubeColor: yellow;" >
		</a-entity>
				
		
		<a-image
			 src="#im1" 
			 width="6" height="5"
			 position="6 0 0"
			 rotation="0 0 0"
			  scale="0.3 0.3 0.3" 
			  >
			<a-link href="formation.html" scale="1 1 1"  image="#im1"></a-link>
		</a-image>
				
	</a-entity>
									       
	<a-entity position="-6 0 2">

		<a-image
			 src="#im2" 
			 width="6" height="5"
			 position="-6 0 0"
			 rotation="0 0 0"
			  scale="0.3 0.3 0.3" 
			 >
			<a-link href="formation.html" scale="1 1 1"  image="#im1"></a-link>
		</a-image>
    
    <a-entity position="-10 0 0">

		<a-image
			 src="#im2" 
			 width="6" height="5"
			 position="-6 0 0"
			 rotation="0 0 0"
			  scale="0.3 0.3 0.3" 
			 >
			<a-link href="formation.html" scale="1 1 1"  image="#im1"></a-link>
		</a-image>
	
		
	</a-entity>
	<!--<a-sphere id="origin" radius="0.4" position="0 1 3" color="blue"></a-sphere>-->
	<a-link position="0 1 4" 
	href="formation.html" title="Les formations" image="#lien"></a-link>
	      
	<a-assets>
        <img id="previewDefault"  src="images/spherical/default.jpg">
        <img id="previewVolcano"  src="images/spherical/volcano.jpg">
        <img id="previewEgypt"    src="images/spherical/egypt.jpg">
        <img id="previewForest"   src="images/spherical/forest.jpg">
        <img id="previewArches"   src="images/spherical/arches.jpg">
        <img id="previewJapan"    src="images/spherical/japan.jpg">
	</a-assets>

<!-- note: raycast issue (link still active) after walking through portal -->

<a-sphere id="origin" radius="0.2" position="0 0 0" color="white"></a-sphere>

<a-link	position="-4 1.6 -4" rotation="0 40 0"
	href="Metiers-bois.html" title="Métiers du bois" image="#previewVolcano"></a-link>

<a-link position="-2 1.6 -5" rotation="0 20 0"
	href="Metiers-tne.html" title="Métiers transition Numérique" image="#previewEgypt"></a-link>

<a-link position="0 1.6 -6" 
	href="Metiers-batiment.html" title="Métiers du bâtiment et tp" image="#previewForest"></a-link>

<a-link position="2 1.6 -5" rotation="0 -20 0"
	href="Menuiserie-alu.html" title="Métaux-alu-verre" image="#previewArches"></a-link>

<a-link position="4 1.6 -4" rotation="0 -40 0"
	href="Tp-facadier.html" title="Titre-pros" image="#previewJapan"></a-link>

</a-scene>

</body>
</html>
